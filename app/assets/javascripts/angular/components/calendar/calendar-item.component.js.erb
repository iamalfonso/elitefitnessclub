(function() {
	'use strict';

	angular.module('efc')
	.component('calendar', {
		templateUrl: "<%= asset_path('angular/components/calendar/calendar.html') %>",
		controller: calendarComponentController,
		bindings: {
			className: '@'
		},		
		transclude: true		
	});

	calendarComponentController.$inject = ['UtilsService'];
	function calendarComponentController(UtilsService) {
		var $ctrl = this;

		$ctrl.utils = UtilsService;
		
		$ctrl.days_of_week = ['Domingo', 'Lunes', 'Martes', 'Miércoles', 'Jueves', 'Viernes', 'Sábado'];
		// $ctrl.schedule = {
		// 	spinning: {
		// 		classes: [ [], ["05:00", "07:15", "16:30"], ["05:00", "07:15", "16:30"], ["05:00", "06:15", "17:30"], ["05:00", "07:15", "17:30"], ["05:00", "06:15", "17:30"], ["07:15"] ],
		// 		duration: [ [], [45, 45, 45], [45, 45, 45], [45, 45, 45], [45, 45, 45], [45, 45, 45], [45, 45, 45] ],
		// 		instructor: [ [], ["Aria", "Neto", "Silvia"], ["Aria", "Neto", "Silvia"], ["Aria", "Neto", "Silvia"], ["Aria", "Neto", "Silvia"], ["Aria", "Neto", "Silvia"], ["Aria"] ]
		// 	}
		// }
		$ctrl.schedule = {
			5: [ [], [{ class: "Spinning", starts: "05:15", duration: 45, instructor: "Nora"}, { class: "Body Combat", starts: "05:30", duration: 45, instructor: "Karla"}] ],
			6: [ [], [{ class: "Spinning", starts: "06:00", duration: 45, instructor: "Gustavo"}] ]
		}		
		$ctrl.classesNames = [];


		$ctrl.$onInit = function() {

		};	

		$ctrl.$onChanges = function(changesObj) {

		};	

		$ctrl.getClassesForHour = function(hour, day) {
			if ($ctrl.schedule.hasOwnProperty(hour)) {
				return $ctrl.schedule[hour][day];
			} else {
				return [];
			}
		};

		$ctrl.showHour = function(hour) {
			if ($ctrl.schedule.hasOwnProperty(hour)) {
				return true;
			} else {
				return false;
			}
		};

	};

})();
